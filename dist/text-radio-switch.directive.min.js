!function(){"use strict";angular.module("textRadioSwitch",[]).directive("trsOnFinishRender",["$timeout",function(e){return{restrict:"A",link:function(t,i,r){t.$last===!0&&e(function(){t.$emit("trsRepeatFinish")})}}}]).directive("textRadioSwitch",function(){var e=0;return{restrict:"E",replace:!0,require:"ngModel",template:'\n<div class="text-radio-switch" id="{{::trsWidgetName}}">\n  <div class="text-radio-switch__viewport">\n    <label ng-repeat="item in ::trsItems" trs-on-finish-render="::ngRepeatFinished" class="text-radio-switch__label" \n    ng-class="{\'text-radio-switch__label_active\': item[trsKeyField]==trsItemSelected}" for="{{::(trsWidgetName + \'__\' + item[trsKeyField])}}"><input \n    ng-click="trsSelect(item)" type="radio" value="item[trsKeyField]" \n    id="{{::(trsWidgetName + \'__\' + item[trsKeyField])}}"\n    ng-checked="{{item[trsKeyField]==trsItemSelected}}" name="{{::trsWidgetName}}" />{{::item[trsNameField]}}</label>\n  </div>\n  <div class="text-radio-switch__left">&lt;</div>\n  <div class="text-radio-switch__right">&gt;</div>\n  <div class="text-radio-switch__highlight-bar"><span></span></div>\n</div>\n',scope:{trsItems:"=items",trsKeyField:"@keyField",trsNameField:"@nameField"},link:function(t,i,r,n){function s(){var e=document.querySelector('label[for="'+t.trsWidgetName+"__"+t.trsItemSelected+'"]'),i=document.querySelector("#"+t.trsWidgetName+" span");e&&i&&angular.element(i).css({width:e.offsetWidth+"px",left:e.offsetLeft+"px"})}function a(){var e=document.querySelectorAll("#"+t.trsWidgetName+" label"),i=0;Array.prototype.forEach.call(e,function(e){i+=e.offsetWidth;var t=window.getComputedStyle(e);i+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),i+=parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10)});var r=document.querySelector("#"+t.trsWidgetName+" .text-radio-switch__highlight-bar");angular.element(r).css({width:i+"px"})}e++,t.trsWidgetName="text-radio-switch-widget-"+e,t.trsItemSelected=n.$modelValue,n.$render=function(){t.trsItemSelected=n.$viewValue,s()},t.$on("trsRepeatFinish",function(){setTimeout(function(){s(),a()},50)}),t.trsSelect=function(e){n.$setViewValue(e[t.trsKeyField]),t.trsItemSelected=n.$viewValue,s()}}}})}();